(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7927ce6a"],{"19f0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"relative"}},[i("el-select",{staticClass:"selectRegion",attrs:{size:"medium",placeholder:"选择区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[i("el-option",{attrs:{label:"区域一",value:"AB01"}}),i("el-option",{attrs:{label:"区域二",value:"AB02"}})],1),i("el-tabs",{staticClass:"switchMode",attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{style:{height:t.height-196+"px","overflow-y":"auto"},attrs:{label:"地图模式",name:"first"}},[i("div",{staticClass:"mapZone"},[i("div",{ref:"dropZone",staticClass:"map",on:{dblclick:t.setBaseStation}},[i("img",{staticClass:"not-select",attrs:{src:a("6d58"),alt:"office.jpg"}}),t._l(t.baseStationData,(function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:"是"==e.isVisible,expression:"baseStation.isVisible=='是'"}],key:e.baseStationId,staticClass:"baseStation",style:{top:e.x-23+"px",left:e.y-10+"px"},attrs:{id:"base_"+e.baseStationId}},[i("span",[t._v(t._s(e.baseStationId))]),i("span",{attrs:{name:e.baseStationName},on:{mousedown:function(e){return e.stopPropagation(),t.move(e)},dblclick:function(e){return e.stopPropagation(),t.editCurrentBaseStation(e)}}})])}))],2)])]),i("el-tab-pane",{attrs:{label:"列表模式",name:"second"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.baseStationData,border:"",stripe:""}},[i("el-table-column",{attrs:{prop:"baseStationId",label:"基站ID"}}),i("el-table-column",{attrs:{prop:"baseStationName",label:"基站名称"}}),i("el-table-column",{attrs:{prop:"baseStationType",label:"基站类型"}}),i("el-table-column",{attrs:{prop:"isVisible",label:"是否可见"}}),i("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",icon:"el-icon-edit"},on:{click:function(a){return t.baseStationEdit(e.$index,e.row)}}},[t._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.baseStationDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1),i("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogFormVisible,width:"30%",top:"20vh"},on:{closed:t.closed,"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"baseStationForm",attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[i("el-form-item",{attrs:{label:"基站ID",prop:"baseStationId"}},[i("el-input",{attrs:{autocomplete:"off",disabled:t.form.disabled},model:{value:t.form.baseStationId,callback:function(e){t.$set(t.form,"baseStationId",e)},expression:"form.baseStationId"}})],1),i("el-form-item",{attrs:{label:"基站名称",prop:"baseStationName"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.baseStationName,callback:function(e){t.$set(t.form,"baseStationName",e)},expression:"form.baseStationName"}})],1),i("el-form-item",{attrs:{label:"基站类别",prop:"baseStationType"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.baseStationType,callback:function(e){t.$set(t.form,"baseStationType",e)},expression:"form.baseStationType"}},[i("el-option",{attrs:{label:"基站",value:"基站"}})],1)],1),i("el-form-item",{attrs:{label:"是否可见"}},[i("el-switch",{model:{value:t.form.isVisible,callback:function(e){t.$set(t.form,"isVisible",e)},expression:"form.isVisible"}})],1),i("el-form-item",[i("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.saveBaseStation}},[t._v("保存")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:"添加基站"!=t.dialogTitle,expression:"dialogTitle!='添加基站'"}],attrs:{size:"medium",type:"danger"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("删除")]),i("el-button",{attrs:{size:"medium"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1)],1)},o=[],s=(a("a434"),a("b0c0"),{data:function(){return{activeName:"first",formInline:{region:""},baseStationData:[{baseStationId:"B001",baseStationName:"生产一部",baseStationType:"基站",isVisible:"是",x:100,y:100},{baseStationId:"B002",baseStationName:"生产二部",baseStationType:"基站",isVisible:"否",x:200,y:200}],dialogFormVisible:!1,dialogTitle:"",form:{baseStationId:"",baseStationName:"",baseStationType:"基站",isVisible:!0,disabled:!1},rules:{baseStationId:[{required:!0,message:"请输入基站ID",trigger:"blur"}],baseStationName:[{required:!0,message:"请输入基站名称",trigger:"blur"}],baseStationType:[{required:!0,message:"请选择基站类型",trigger:"blur"}]}}},computed:{height:function(){return this.$store.state.screenHeight}},mounted:function(){},methods:{baseStationEdit:function(t,e){this.dialogFormVisible=!0,this.dialogTitle="编辑 ".concat(e.baseStationId," 基站"),this.form={baseStationId:e.baseStationId,baseStationName:e.baseStationName,baseStationType:e.baseStationType,isVisible:"是"==e.isVisible,disabled:!0}},baseStationDelete:function(t,e){this.baseStationData.splice(t,1)},setBaseStation:function(){this.dialogFormVisible=!0,this.dialogTitle="添加基站",this.form={baseStationId:"",baseStationName:"",baseStationType:"基站",isVisible:!0,disabled:!1}},editCurrentBaseStation:function(t){this.dialogFormVisible=!0,this.dialogTitle="编辑 ".concat(t.target.previousSibling.textContent," 基站"),this.form={baseStationId:t.target.previousSibling.textContent,baseStationName:t.target.attributes["name"].nodeValue,baseStationType:"基站",isVisible:!0,disabled:!0}},closed:function(){this.$refs.baseStationForm.resetFields()},saveBaseStation:function(){console.log(this.form);for(var t=0;t<this.baseStationData.length;t++)this.baseStationData[t].baseStationId==this.form.baseStationId&&(this.baseStationData[t].baseStationName=this.form.baseStationName,this.baseStationData[t].isVisible=1==this.form.isVisible?"是":"否");this.dialogFormVisible=!1},move:function(t){var e=t.target.parentNode,a=this.$refs.dropZone,i=e.offsetLeft,o=e.offsetTop,s=t.clientX-a.offsetLeft-i-310,n=t.clientY-a.offsetTop-o-196;document.onmousemove=function(t){var i=t.clientX-s-(a.offsetLeft+310),o=t.clientY-n-(a.offsetTop+196);i<0?i=0:i>a.offsetWidth-46&&(i=a.offsetWidth-46),o<0?o=0:o>a.offsetHeight-20&&(o=a.offsetHeight-20),e.style.left=i+"px",e.style.top=o+"px"},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}}),n=s,l=(a("e994"),a("2877")),r=Object(l["a"])(n,i,o,!1,null,"d497d730",null);e["default"]=r.exports},"6e0d":function(t,e,a){},e994:function(t,e,a){"use strict";var i=a("6e0d"),o=a.n(i);o.a}}]);